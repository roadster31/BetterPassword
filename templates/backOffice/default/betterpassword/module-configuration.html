<div class="row">
    <div class="col-md-12 general-block-decorator">
        <div class="row">
            <div class="col-md-12 title title-without-tabs">
                {intl d='betterpassword.bo.default' l="Demander des mots de passe sécurisés"}
            </div>
        </div>

        <div class="form-container">
            <div class="row">
                <div class="col-md-12">
                    {form name="betterpassword.configuration"}
                        <form action="{url path="/admin/module/betterpassword/configure"}" method="post">
                            {form_hidden_fields form=$form}

                            {include file = "includes/inner-form-toolbar.html"
                                hide_flags = true
                                page_url   = "{url path='/admin/module/BetterPassword'}"
                                close_url  = "{url path='/admin/modules'}"
                            }

                            {if $form_error}
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="alert alert-danger">{$form_error_message}</div>
                                    </div>
                                </div>
                            {/if}

                            <div class="row">
                                <div class="col-md-12">
                                    <p>
                                    {intl d='betterpassword.bo.default' l='Ce module vous permet d\'indiquer une expression régulière (cf. <a href="https://regex101.com">https://regex101.com</a>) que les mots de passe de vos clients devront satisfaire. Vous devrez aussi indiquer une description des contraintes à satisfaire. Cette description sera affiché à vos clients.'}
                                    <p>
                                </div>

                                <div class="col-md-6">
                                    {render_form_field field="password_expression" value=$password_expression}
                                </div>

                                <div class="col-md-12">
                                    {form_field field="password_requirements"}
                                    <div class="form-group">
                                        <label class="control-label">
                                            {$label}<span class="required">*</span>
                                        </label>
                                        {loop type="lang" name="lang" active=1}
                                            {form_field field="password_requirements" value_key=$LOCALE}
                                                <div class="input-group" style="margin-bottom: 2px">
                                                    <input {form_field_attributes form=$form field="password_requirements" value_key=$LOCALE value=$password_requirements[$LOCALE]}>
                                                    <span class="input-group-addon">
                                                        <img src="{image file="assets/img/flags/{$CODE}.png"}" alt="{$TITLE}"
                                                    </span>
                                                </div>
                                            {/form_field}
                                        {/loop}
                                        <span class="help-block">{$label_attr.help nofilter}</span>
                                    </div>
                                    {/form_field}
                                </div>
                            </div>
                        </form>
                    {/form}
                </div>
            </div>
        </div>
    </div>
</div>
